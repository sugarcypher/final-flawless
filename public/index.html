<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flawless Finish Ceramic Coating – Palm Springs & Coachella Valley</title>
  <meta name="description" content="Premium automotive ceramic coating with transparent pricing, real-time calendar booking with $250 deposit, and meticulous multi-stage prep for desert conditions." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="images/favicon.png">
</head>
<body>
  <header class="hero">
    <div class="wrap">
      <div>
        <div class="logo-section">
          <img src="images/flawless-finish-logo.png" alt="Flawless Finish Ceramic Coating Logo" class="logo">
        </div>
        <h1>Flawless Finish Ceramic Coating</h1>
        <p class="lead">Desert‑luxe ceramic protection for Palm Springs & Coachella Valley — UV, heat, and sand defense with mirror‑grade gloss.</p>
        <div class="badges">
          <span class="badge">Owner: Jason (Jay)</span>
          <span class="badge">Call: 442‑342‑3627</span>
          <span class="badge">Deposit: $250</span>
          <span class="badge">Mobile & Shop Service</span>
        </div>
        <div class="cta-row">
          <a href="#booking" class="button primary">Book Now</a>
          <a href="#pricing" class="button secondary">See Pricing</a>
        </div>
      </div>
      <div class="card dark">
        <h2 style="margin-top:0">What You Get</h2>
        <p class="sub">Engineered process for harsh desert conditions.</p>
        <ul>
          <li>Decontamination, clay, polish, panel wipe</li>
          <li>2–5 year ceramic options</li>
          <li>Hydrophobic, UV & oxidation resistant</li>
          <li>Glass & wheel coating add‑ons</li>
        </ul>
      </div>
    </div>
  </header>

  <main>
    <section class="section light gallery-section">
      <div class="container">
        <h2>Ceramic Gallery</h2>
        <p class="sub">Premium ceramic coating results from Palm Springs & Coachella Valley</p>
        <div class="gallery">
          <div class="gallery-item">
            <img src="images/gallery/bmw-m5-water-droplets.jpg" alt="BMW M5 freshly ceramic coated - dark grey finish with water beading">
            <div class="gallery-caption">BMW M5 - Water Beading Effect</div>
          </div>
          <div class="gallery-item">
            <img src="images/gallery/bmw-light-blue-mirror.jpg" alt="BMW with mirror-like ceramic coating finish">
            <div class="gallery-caption">BMW - Mirror-Like Finish</div>
          </div>
          <div class="gallery-item">
            <img src="images/gallery/bmw-interior-red-leather.jpg" alt="BMW M interior with red leather and ceramic protection">
            <div class="gallery-caption">Interior Ceramic Protection - Red Leather</div>
          </div>
          <div class="gallery-item">
            <img src="images/gallery/acura-restored-headlight.jpg" alt="Acura with restored headlight and ceramic coating">
            <div class="gallery-caption">Headlight Restoration & Protection</div>
          </div>
          <div class="gallery-item">
            <img src="images/gallery/bmw-soap-washing.jpg" alt="BMW being washed with soap suds during prep process">
            <div class="gallery-caption">Professional Prep Process</div>
          </div>
          <div class="gallery-item">
            <img src="images/gallery/bmw-interior-dashboard.jpg" alt="BMW M interior with ceramic coating on dashboard">
            <div class="gallery-caption">Interior Dashboard Protection</div>
          </div>
          <div class="gallery-item">
            <img src="images/before-after/before.png" alt="Vehicle before ceramic coating treatment">
            <div class="gallery-caption">Before Treatment</div>
          </div>
          <div class="gallery-item">
            <img src="images/before-after/after.png" alt="Vehicle after ceramic coating treatment - flawless finish">
            <div class="gallery-caption">After Treatment</div>
          </div>
        </div>
        <div class="gallery-cta">
          <a href="#booking" class="button primary">Book Your Ceramic Coating</a>
          <a href="#pricing" class="button secondary">View Pricing</a>
        </div>
      </div>
    </section>

    <section class="section dark before-after-section">
      <div class="container">
        <h2>Before & After Gallery</h2>
        <p class="sub">See the transformation - from damaged to flawless</p>
        <div class="before-after-gallery">
          <div class="before-after-item">
            <div class="before-after-image">
              <img src="images/before-after/paint-swirls-before.jpg" alt="Paint with swirl marks and scratches - before">
              <div class="before-after-label">Before</div>
            </div>
            <div class="before-after-image">
              <img src="images/before-after/paint-mirror-finish-after.jpg" alt="Perfect mirror finish after ceramic coating - after">
              <div class="before-after-label">After</div>
            </div>
            <div class="before-after-caption">Paint Correction & Ceramic Coating</div>
          </div>
          <div class="before-after-item">
            <div class="before-after-image">
              <img src="images/before-after/headlight-oxidized-before.jpg" alt="Acura with severely oxidized, hazy headlight - before">
              <div class="before-after-label">Before</div>
            </div>
            <div class="before-after-image">
              <img src="images/before-after/headlight-restored-after.jpg" alt="Acura with crystal clear, restored headlight and ceramic coating - after">
              <div class="before-after-label">After</div>
            </div>
            <div class="before-after-caption">Headlight Restoration & Ceramic Coating</div>
          </div>
          <div class="before-after-item">
            <div class="before-after-image">
              <img src="images/before-after/before.png" alt="Vehicle before ceramic coating treatment">
              <div class="before-after-label">Before</div>
            </div>
            <div class="before-after-image">
              <img src="images/before-after/after.png" alt="Vehicle after ceramic coating treatment - flawless finish">
              <div class="before-after-label">After</div>
            </div>
            <div class="before-after-caption">Complete Vehicle Transformation</div>
          </div>
        </div>
        <div class="before-after-cta">
          <a href="#booking" class="button primary">Transform Your Vehicle</a>
          <a href="tel:4423423627" class="button secondary">Call (442) 342-3627</a>
        </div>
      </div>
    </section>

    <section class="section about-me">
      <div class="container">
        <div class="about-content">
          <div class="about-text">
            <h2>About Me</h2>
            <p class="lead">Upgrading Great to Excellence</p>
            <p>Hi, I'm Jason — the owner and operator of Flawless Finish Ceramic Coating here in sunny Palm Springs. My passion for cars started early. I began high-speed buffing at just 15 years old, and for the past <strong>28 years</strong> I've been perfecting my craft — restoring shine, depth, and protection to vehicles of all kinds.</p>
            
            <p>Originally from the Midwest, I bring those Indiana values of hard work, fairness, and loyalty into everything I do. At Flawless Finish, my focus is simple: deliver superior results and make every vehicle look better than new.</p>
            
            <p>For me, detailing isn't just about appearance — it's about pride, precision, and helping people fall in love with their cars all over again.</p>
            
            <p class="highlight">When you choose Flawless Finish Ceramic Coating, you're not just getting a service — you're getting a commitment to excellence.</p>
            
            <div class="credentials">
              <div class="credential">
                <span class="number">28</span>
                <span class="label">Years Experience</span>
              </div>
              <div class="credential">
                <span class="number">15</span>
                <span class="label">Started Age</span>
              </div>
              <div class="credential">
                <span class="number">∞</span>
                <span class="label">Cars Restored</span>
              </div>
            </div>
          </div>
          <div class="about-image">
            <img src="images/jason-headshot.jpg" alt="Jason - Owner of Flawless Finish Ceramic Coating" />
            <div class="image-caption">
              <strong>Jason</strong><br>
              Owner & Master Detailer
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section testimonials">
      <div class="container">
        <h2>Clients in the Valley</h2>
        <p class="sub">Proof beats promises — what drivers say after living with the coating.</p>
        <div class="testi-grid">
          <div class="testi">
            <h3>"Desert dust just won't stick."</h3>
            <p>Six months later and rinses take minutes. The water beading hasn't quit.</p>
            <div class="by">— M., Indio</div>
          </div>
          <div class="testi">
            <h3>"Looks better than delivery day."</h3>
            <p>Paint correction + 5‑year coating. It turns heads in the sun.</p>
            <div class="by">— A., Palm Springs</div>
          </div>
          <div class="testi">
            <h3>"Professional, punctual, meticulous."</h3>
            <p>Explained each step. Zero surprises. Booking my SUV next.</p>
            <div class="by">— J.R., La Quinta</div>
          </div>
        </div>
      </div>
    </section>

    <section id="pricing" class="section light pricing-section">
      <div class="container">
        <h2>Transparent Pricing</h2>
        <p class="sub">Add $100 to each menu item for ceramic coating</p>
        <div class="pricing-grid">
          <div class="pricing-card">
            <h3>Cars</h3>
            <div class="price">$700</div>
            <div class="description">Minimal Paint Correction</div>
            <ul>
              <li>Decontamination wash</li>
              <li>Clay bar treatment</li>
              <li>Light polish</li>
              <li>2-year ceramic coating</li>
            </ul>
            <a href="#booking" class="button primary">Book This Service</a>
          </div>
          <div class="pricing-card featured">
            <h3>Cars</h3>
            <div class="price">$800</div>
            <div class="description">Moderate Paint Correction</div>
            <ul>
              <li>Full decontamination</li>
              <li>Clay bar treatment</li>
              <li>Multi-stage polish</li>
              <li>3-year ceramic coating</li>
            </ul>
            <a href="#booking" class="button primary">Book This Service</a>
          </div>
          <div class="pricing-card">
            <h3>Cars</h3>
            <div class="price">$1,000</div>
            <div class="description">Heavy Paint Correction</div>
            <ul>
              <li>Complete decontamination</li>
              <li>Clay bar treatment</li>
              <li>Heavy compounding & polish</li>
              <li>5-year ceramic coating</li>
            </ul>
            <a href="#booking" class="button primary">Book This Service</a>
          </div>
        </div>
        <div class="pricing-note">
          <p><strong>Trucks/SUVs:</strong> Add $100 to each price above</p>
          <p><strong>Glass & Rims:</strong> Add $100-$150 depending on correction level</p>
        </div>
      </div>
    </section>

    <section class="section light process-section">
      <div class="container">
        <h2>Our Process</h2>
        <p class="sub">Meticulous preparation for lasting results</p>
        <div class="process-grid">
          <div class="process-step">
            <div class="step-number">1</div>
            <h3>Initial Inspection</h3>
            <p>Walk-around assessment with Jason and vehicle owner to identify scratches, swirl marks, oxidation, and contamination that need attention.</p>
          </div>
          <div class="process-step">
            <div class="step-number">2</div>
            <h3>Decontamination</h3>
            <p>Pre-wash and thorough decontamination using pH-neutral shampoo and iron removers to strip away old waxes, sealants, and embedded contaminants.</p>
          </div>
          <div class="process-step">
            <div class="step-number">3</div>
            <h3>Clay Bar Treatment</h3>
            <p>Clay bar used to remove any remaining bonded debris, leaving the surface smooth and ready for paint correction.</p>
          </div>
          <div class="process-step">
            <div class="step-number">4</div>
            <h3>Paint Correction</h3>
            <p>High-speed buffing/compounding to eliminate deeper imperfections and polishing to enhance gloss and remove swirl marks.</p>
          </div>
          <div class="process-step">
            <div class="step-number">5</div>
            <h3>Final Preparation</h3>
            <p>Final inspection under bright lighting and IPA solution wipe to remove any remaining oils or residues before coating application.</p>
          </div>
          <div class="process-step">
            <div class="step-number">6</div>
            <h3>Ceramic Coating</h3>
            <p>Ceramic coating applied one panel at a time. Once fully cured (7 days), you'll only need water to rinse and dry!</p>
          </div>
        </div>
      </div>
    </section>

    <section id="booking" class="booking-section">
      <div class="container">
        <div class="booking-container">
          <h2>Book Your Ceramic Coating</h2>
          <p class="sub">Select your preferred date and complete your booking</p>
          
          <div class="calendar-container">
            <h3>Available Dates</h3>
            <div class="calendar-grid" id="calendar">
              <!-- Calendar will be populated by JavaScript -->
            </div>
            <div id="nextSlot" class="text-center mb-20"></div>
          </div>

          <form class="booking-form" id="bookingForm">
            <div class="form-group">
              <label for="customerName">Full Name</label>
              <input type="text" id="customerName" name="customerName" required>
            </div>
            
            <div class="form-group">
              <label for="customerPhone">Phone Number</label>
              <input type="tel" id="customerPhone" name="customerPhone" required>
            </div>
            
            <div class="form-group">
              <label for="vehicleType">Vehicle Type</label>
              <select id="vehicleType" name="vehicleType" required>
                <option value="">Select Vehicle Type</option>
                <option value="car">Car</option>
                <option value="truck">Truck</option>
                <option value="suv">SUV</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="serviceLevel">Service Level</label>
              <select id="serviceLevel" name="serviceLevel" required>
                <option value="">Select Service Level</option>
                <option value="minimal">Minimal Paint Correction - $700</option>
                <option value="moderate">Moderate Paint Correction - $800</option>
                <option value="heavy">Heavy Paint Correction - $1,000</option>
              </select>
            </div>

            <div class="payment-section">
              <h3>Payment Options</h3>
              <div class="payment-options">
                <button type="button" id="cashBooking" class="button secondary">Book with Cash Payment</button>
                <button type="button" id="cardBooking" class="button primary">Pay $250 Deposit</button>
              </div>
              
              <div id="paymentForm" style="display: none;">
                <div id="payment-element">
                  <!-- Stripe Elements will be inserted here -->
                </div>
                <button type="submit" id="submit-payment" class="button primary">Pay $250 Deposit</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer class="section dark">
    <div class="container">
      <div class="text-center">
        <h3>Flawless Finish Ceramic Coating</h3>
        <p>Palm Springs & Coachella Valley</p>
        <p>Call: <a href="tel:4423423627" style="color: #007bff;">(442) 342-3627</a></p>
        <p>Owner: Jason (Jay)</p>
      </div>
    </div>
  </footer>

  <script>
    // Professional booking calendar functionality
    document.addEventListener('DOMContentLoaded', function() {
      const calendar = document.getElementById('calendar');
      const nextSlot = document.getElementById('nextSlot');
      const cashBooking = document.getElementById('cashBooking');
      const cardBooking = document.getElementById('cardBooking');
      const paymentForm = document.getElementById('paymentForm');
      const bookingForm = document.getElementById('bookingForm');
      
      let selectedDate = null;
      let stripe = null;
      
      // Load calendar from API
      async function loadCalendar() {
        try {
          const response = await fetch('/api/availability?days=30');
          const data = await response.json();
          
          calendar.innerHTML = '';
          let firstAvailable = null;
          
          data.days.forEach(day => {
            const dayElement = document.createElement('div');
            dayElement.className = 'calendar-day';
            dayElement.textContent = day.displayDate;
            dayElement.setAttribute('data-date', day.date);
            
            if (day.booked) {
              dayElement.classList.add('booked');
              dayElement.textContent += ' (Booked)';
            } else {
              if (!firstAvailable) {
                firstAvailable = day;
              }
              dayElement.addEventListener('click', function() {
                selectDate(day.date);
              });
            }
            
            calendar.appendChild(dayElement);
          });
          
          if (firstAvailable) {
            nextSlot.textContent = `Next available: ${firstAvailable.displayDate}`;
          } else {
            nextSlot.textContent = 'No available dates in the next 30 days';
          }
        } catch (error) {
          console.error('Error loading calendar:', error);
          nextSlot.textContent = 'Error loading calendar. Please refresh the page.';
        }
      }
      
      // Select date function
      function selectDate(date) {
        selectedDate = date;
        document.querySelectorAll('.calendar-day').forEach(day => {
          day.classList.remove('selected');
        });
        const selectedElement = document.querySelector(`[data-date="${date}"]`);
        if (selectedElement) {
          selectedElement.classList.add('selected');
        }
      }
      
      // Cash booking handler
      cashBooking.addEventListener('click', async function() {
        if (!validateForm()) return;
        
        try {
          const formData = {
            date: selectedDate,
            name: document.getElementById('customerName').value,
            phone: document.getElementById('customerPhone').value,
            vehicleType: document.getElementById('vehicleType').value,
            serviceLevel: document.getElementById('serviceLevel').value,
            paymentMethod: 'cash'
          };
          
          const response = await fetch('/api/book-cash', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
          });
          
          const result = await response.json();
          
          if (result.success) {
            alert('Cash booking submitted successfully! We will contact you to confirm your appointment.');
            bookingForm.reset();
            selectedDate = null;
            document.querySelectorAll('.calendar-day').forEach(day => {
              day.classList.remove('selected');
            });
          } else {
            alert('Booking failed: ' + (result.message || 'Unknown error'));
          }
        } catch (error) {
          console.error('Booking error:', error);
          alert('Network error. Please try again.');
        }
      });
      
      // Card booking handler
      cardBooking.addEventListener('click', async function() {
        if (!validateForm()) return;
        
        try {
          // Initialize Stripe
          if (!window.Stripe) {
            const script = document.createElement('script');
            script.src = 'https://js.stripe.com/v3/';
            document.head.appendChild(script);
            await new Promise(resolve => script.onload = resolve);
          }
          
          // Get Stripe publishable key
          const keyResponse = await fetch('/api/stripe-key');
          const { publishableKey } = await keyResponse.json();
          
          if (!publishableKey) {
            alert('Payment system not configured. Please contact us directly.');
            return;
          }
          
          stripe = Stripe(publishableKey);
          
          // Create payment intent
          const formData = {
            date: selectedDate,
            name: document.getElementById('customerName').value,
            phone: document.getElementById('customerPhone').value,
            vehicleType: document.getElementById('vehicleType').value,
            serviceLevel: document.getElementById('serviceLevel').value
          };
          
          const response = await fetch('/api/create-payment-intent', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
          });
          
          const result = await response.json();
          
          if (result.success) {
            // Initialize Stripe Elements
            const elements = stripe.elements({
              clientSecret: result.clientSecret
            });
            
            const paymentElement = elements.create('payment');
            paymentElement.mount('#payment-element');
            
            paymentForm.style.display = 'block';
            
            // Handle form submission
            bookingForm.addEventListener('submit', async function(e) {
              e.preventDefault();
              
              const { error } = await stripe.confirmPayment({
                elements,
                confirmParams: {
                  return_url: window.location.href
                }
              });
              
              if (error) {
                alert('Payment failed: ' + error.message);
              } else {
                alert('Payment successful! Your booking has been confirmed.');
                bookingForm.reset();
                paymentForm.style.display = 'none';
                selectedDate = null;
                document.querySelectorAll('.calendar-day').forEach(day => {
                  day.classList.remove('selected');
                });
              }
            });
          } else {
            alert('Payment setup failed: ' + (result.message || 'Unknown error'));
          }
        } catch (error) {
          console.error('Payment error:', error);
          alert('Payment system error. Please try again or contact us directly.');
        }
      });
      
      // Form validation
      function validateForm() {
        const name = document.getElementById('customerName').value;
        const phone = document.getElementById('customerPhone').value;
        const vehicleType = document.getElementById('vehicleType').value;
        const serviceLevel = document.getElementById('serviceLevel').value;
        
        if (!name || !phone || !vehicleType || !serviceLevel) {
          alert('Please fill in all required fields.');
          return false;
        }
        
        if (!selectedDate) {
          alert('Please select a date for your appointment.');
          return false;
        }
        
        return true;
      }
      
      // Initialize calendar
      loadCalendar();
    });
  </script>
</body>
</html>
